version: '3.8'

services:
  magic-bag-gateway:
    image: pfz16/magic-bag-gateway:latest
    container_name: magic-bag-gateway
    ports:
      - "10016:10016"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-auth:
    image: pfz16/magic-bag-auth:latest
    container_name: magic-bag-auth
    ports:
      - "10017:10017"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-user:
    image: pfz16/magic-bag-user:latest
    container_name: magic-bag-user
    ports:
      - "10018:10018"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-product:
    image: pfz16/magic-bag-product:latest
    container_name: magic-bag-product
    ports:
      - "10019:10019"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-order:
    image: pfz16/magic-bag-order:latest
    container_name: magic-bag-order
    ports:
      - "10020:10020"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-payment:
    image: pfz16/magic-bag-payment:latest
    container_name: magic-bag-payment
    ports:
      - "10021:10021"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-cart:
    image: pfz16/magic-bag-cart:latest
    container_name: magic-bag-cart
    ports:
      - "10022:10022"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-merchant:
    image: pfz16/magic-bag-merchant:latest
    container_name: magic-bag-merchant
    ports:
      - "10023:10023"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped

  magic-bag-admin:
    image: pfz16/magic-bag-admin:latest
    container_name: magic-bag-admin
    ports:
      - "10024:10024"
    volumes:
      - /home/ubuntu/.keys:/app/.keys:ro
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=3.1.213.148:8848
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=3.1.213.148:8848
      - SPRING_PROFILES_ACTIVE=dev
      - JAVA_OPTS=-Xmx384m -Xms256m
    restart: unless-stopped