version: '3.8'

services:
  magic-bag-gateway:
    image: pfz16/magic-bag-gateway:latest
    container_name: magic-bag-gateway
    ports:
      - "10016:10016"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-auth:
    image: pfz16/magic-bag-auth:latest
    container_name: magic-bag-auth
    ports:
      - "10017:10017"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-user:
    image: pfz16/magic-bag-user:latest
    container_name: magic-bag-user
    ports:
      - "10018:10018"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-product:
    image: pfz16/magic-bag-product:latest
    container_name: magic-bag-product
    ports:
      - "10019:10019"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-order:
    image: pfz16/magic-bag-order:latest
    container_name: magic-bag-order
    ports:
      - "10020:10020"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-payment:
    image: pfz16/magic-bag-payment:latest
    container_name: magic-bag-payment
    ports:
      - "10021:10021"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-cart:
    image: pfz16/magic-bag-cart:latest
    container_name: magic-bag-cart
    ports:
      - "10022:10022"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-merchant:
    image: pfz16/magic-bag-merchant:latest
    container_name: magic-bag-merchant
    ports:
      - "10023:10023"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped

  magic-bag-admin:
    image: pfz16/magic-bag-admin:latest
    container_name: magic-bag-admin
    ports:
      - "10024:10024"
    environment:
      - SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=${NACOS_SERVER_ADDR}
      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
      - JAVA_OPTS=${JAVA_OPTS}
    restart: unless-stopped